{"ast":null,"code":"var _jsxFileName = \"/Users/fa/Documents/OpenClassrooms_Formation_Started/projet_7_Kasa/KasaGithub/kasa/src/pages/ApartmentPage.jsx\",\n  _s = $RefreshSig$();\n/*** Page d'un appartement : \nCe composant utilise le hook useLocation pour récupérer l'ID de l'appartement transmis à partir de l'URL.\nChargement de données des appartements à partir du fichier data.json en utilisant l'API fetch de JavaScript. \nOn flitre les données pour trouver l'appartement qui correspond à l'ID puis on le stocke avec useState (hook)\nSi flat est null, signifie que les données n'ont pas encore été chargées. Dans ce cas, \non affiche un message de chargement. Sinon, le composant affiche l'image de bannière de l'appartement, \nl'en-tête de l'appartement et les informations de description et d'équipements à l'aide de différents \nsous-composants (ImageBanner, ApartmentHeader et DescriptionPanel).\n***/\nimport React, { useEffect, useState } from 'react';\nimport './ApartmentPage.scss';\nimport { ImageBanner } from '../components/ImageBanner';\nimport { ApartmentHeader } from '../components/ApartmentHeader';\nimport { DescriptionPanel } from '../components/DescriptionPanel';\nimport { useLocation } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ApartmentPage() {\n  _s();\n  const location = useLocation();\n  const [flat, setFlat] = useState(null);\n  //console.log('flat', flat)\n\n  useEffect(fetchApartmentsData, [location.state.apartmentId]); // Ajout de location.state.apartmentId\n\n  function fetchApartmentsData() {\n    fetch(\"data.json\").then(res => res.json()).then(flats => {\n      const flat = flats.find(flat => flat.id === location.state.apartmentId);\n      setFlat(flat);\n    }).catch(console.error);\n  }\n  if (flat == null) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \" ...Loading\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 26\n  }, this); // Execute le loading pour laisser le temps de recharger la page \n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"apartment-page\",\n    children: [/*#__PURE__*/_jsxDEV(ImageBanner, {\n      pictures: flat.pictures\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ApartmentHeader, {\n      flat: flat\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"apartment__description__area\",\n      children: [/*#__PURE__*/_jsxDEV(DescriptionPanel, {\n        title: \"Description\",\n        content: flat.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(DescriptionPanel, {\n        title: \"Equipments\",\n        content: flat.equipments.map((eq, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [\" \", eq, \" \"]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n}\n_s(ApartmentPage, \"mASo0hbEzRprBHb9WqQa2h8iCsk=\", false, function () {\n  return [useLocation];\n});\n_c = ApartmentPage;\nexport default ApartmentPage;\nvar _c;\n$RefreshReg$(_c, \"ApartmentPage\");","map":{"version":3,"names":["React","useEffect","useState","ImageBanner","ApartmentHeader","DescriptionPanel","useLocation","jsxDEV","_jsxDEV","ApartmentPage","_s","location","flat","setFlat","fetchApartmentsData","state","apartmentId","fetch","then","res","json","flats","find","id","catch","console","error","children","fileName","_jsxFileName","lineNumber","columnNumber","className","pictures","title","content","description","equipments","map","eq","index","_c","$RefreshReg$"],"sources":["/Users/fa/Documents/OpenClassrooms_Formation_Started/projet_7_Kasa/KasaGithub/kasa/src/pages/ApartmentPage.jsx"],"sourcesContent":["/*** Page d'un appartement : \nCe composant utilise le hook useLocation pour récupérer l'ID de l'appartement transmis à partir de l'URL.\nChargement de données des appartements à partir du fichier data.json en utilisant l'API fetch de JavaScript. \nOn flitre les données pour trouver l'appartement qui correspond à l'ID puis on le stocke avec useState (hook)\nSi flat est null, signifie que les données n'ont pas encore été chargées. Dans ce cas, \non affiche un message de chargement. Sinon, le composant affiche l'image de bannière de l'appartement, \nl'en-tête de l'appartement et les informations de description et d'équipements à l'aide de différents \nsous-composants (ImageBanner, ApartmentHeader et DescriptionPanel).\n***/\nimport React, { useEffect, useState } from 'react'\nimport './ApartmentPage.scss'\nimport { ImageBanner } from '../components/ImageBanner'\nimport { ApartmentHeader } from '../components/ApartmentHeader'\nimport { DescriptionPanel } from '../components/DescriptionPanel'\nimport { useLocation } from 'react-router-dom'\n\nfunction ApartmentPage() {\n  const location = useLocation()\n  const [flat, setFlat] = useState(null)\n  //console.log('flat', flat)\n\n  useEffect(fetchApartmentsData, [location.state.apartmentId]) // Ajout de location.state.apartmentId\n\n  function fetchApartmentsData() {\n  fetch(\"data.json\")\n    .then((res) => res.json())\n    .then((flats) => {\n      const flat = flats.find((flat) => flat.id === location.state.apartmentId)\n      setFlat(flat)\n    })\n    .catch(console.error)\n  }\nif (flat == null) return <div> ...Loading</div> // Execute le loading pour laisser le temps de recharger la page \n  return (\n    <div className='apartment-page'>\n        <ImageBanner pictures={flat.pictures} />\n        <ApartmentHeader flat={flat}  />\n        <div className='apartment__description__area'>\n            <DescriptionPanel \n            title='Description' \n            content={flat.description} />\n            <DescriptionPanel \n            title='Equipments' \n            content={flat.equipments.map((eq, index) => (\n              <li key={index}> {eq} </li>\n            ))} />\n        </div>\n    </div>\n  )\n}\n\nexport default ApartmentPage"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAO,sBAAsB;AAC7B,SAASC,WAAW,QAAQ,2BAA2B;AACvD,SAASC,eAAe,QAAQ,+BAA+B;AAC/D,SAASC,gBAAgB,QAAQ,gCAAgC;AACjE,SAASC,WAAW,QAAQ,kBAAkB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAE9C,SAASC,aAAaA,CAAA,EAAG;EAAAC,EAAA;EACvB,MAAMC,QAAQ,GAAGL,WAAW,EAAE;EAC9B,MAAM,CAACM,IAAI,EAAEC,OAAO,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;EACtC;;EAEAD,SAAS,CAACa,mBAAmB,EAAE,CAACH,QAAQ,CAACI,KAAK,CAACC,WAAW,CAAC,CAAC,EAAC;;EAE7D,SAASF,mBAAmBA,CAAA,EAAG;IAC/BG,KAAK,CAAC,WAAW,CAAC,CACfC,IAAI,CAAEC,GAAG,IAAKA,GAAG,CAACC,IAAI,EAAE,CAAC,CACzBF,IAAI,CAAEG,KAAK,IAAK;MACf,MAAMT,IAAI,GAAGS,KAAK,CAACC,IAAI,CAAEV,IAAI,IAAKA,IAAI,CAACW,EAAE,KAAKZ,QAAQ,CAACI,KAAK,CAACC,WAAW,CAAC;MACzEH,OAAO,CAACD,IAAI,CAAC;IACf,CAAC,CAAC,CACDY,KAAK,CAACC,OAAO,CAACC,KAAK,CAAC;EACvB;EACF,IAAId,IAAI,IAAI,IAAI,EAAE,oBAAOJ,OAAA;IAAAmB,QAAA,EAAK;EAAW;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QAAM,EAAC;EAC9C,oBACEvB,OAAA;IAAKwB,SAAS,EAAC,gBAAgB;IAAAL,QAAA,gBAC3BnB,OAAA,CAACL,WAAW;MAAC8B,QAAQ,EAAErB,IAAI,CAACqB;IAAS;MAAAL,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAG,eACxCvB,OAAA,CAACJ,eAAe;MAACQ,IAAI,EAAEA;IAAK;MAAAgB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAI,eAChCvB,OAAA;MAAKwB,SAAS,EAAC,8BAA8B;MAAAL,QAAA,gBACzCnB,OAAA,CAACH,gBAAgB;QACjB6B,KAAK,EAAC,aAAa;QACnBC,OAAO,EAAEvB,IAAI,CAACwB;MAAY;QAAAR,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAG,eAC7BvB,OAAA,CAACH,gBAAgB;QACjB6B,KAAK,EAAC,YAAY;QAClBC,OAAO,EAAEvB,IAAI,CAACyB,UAAU,CAACC,GAAG,CAAC,CAACC,EAAE,EAAEC,KAAK,kBACrChC,OAAA;UAAAmB,QAAA,GAAgB,GAAC,EAACY,EAAE,EAAC,GAAC;QAAA,GAAbC,KAAK;UAAAZ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QACf;MAAE;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAG;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QACJ;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACJ;AAEV;AAACrB,EAAA,CAjCQD,aAAa;EAAA,QACHH,WAAW;AAAA;AAAAmC,EAAA,GADrBhC,aAAa;AAmCtB,eAAeA,aAAa;AAAA,IAAAgC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}